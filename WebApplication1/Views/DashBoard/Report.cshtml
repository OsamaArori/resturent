@model Tuple<IEnumerable<WebApplication1.Models.JoinTable>,IEnumerable<WebApplication1.Models.ProductCustomer>>

	@{
		Layout = "~/Views/Shared/UserDashboard.cshtml";
	}

	<head>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">

	</head>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <link href="~/Content/bootstrap.css" rel="stylesheet" />

    <link href="https://cdn.datatables.net/1.10.15/css/dataTables.bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/responsive/2.1.1/css/responsive.bootstrap.min.css" rel="stylesheet" />

    <script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.15/js/dataTables.bootstrap4.min.js "></script>





	<div class="row">
		<div class="col-7">
			<form action="Report" method="post">
				<label for="startDate">Start Date</label>
				<input type="date" class="form-control" name="startDate" placeholder="Start Date" />
				
				<label for="endDate">End Date</label>
				<input type="date" class="form-control" name="endDate" placeholder="End Date" />
				<br />
				<button type="submit" class="btn btn-warning">Search</button>
			</form>
		</div>
	</div>
	<br />
	<br />
	<div class="row">
		<div class="col-10">
			<table class="table" id="report">
				<thead>
					<tr>
						<th>Customer First Name</th>
						<th>Customer Last Name</th>
						<th>Product Name</th>
						<th>Quantity</th>
						<th>Price</th>
						<th>Date From</th>
						<th>Date To</th>
					</tr>
				</thead>
				<tbody>
					@foreach (var item in Model.Item2)
				   {
					   <tr>
						  <td>
							  @Html.DisplayFor(modelItem => item.Customer.Fname)
						  </td>
						  <td>
							  @Html.DisplayFor(modelItem => item.Customer.Lname)
						  </td>
						  <td>
							  @Html.DisplayFor(modelItem => item.Product.Name)
						  </td>
						  <td>
							  @Html.DisplayFor(modelItem => item.Quantity)
						  </td>
						  <td>
							  @Html.DisplayFor(modelItem => item.Product.Price)
						  </td>
						  <td>
							  @Html.DisplayFor(modelItem => item.DateFrom)
						  </td>
						  <td>
							  @Html.DisplayFor(modelItem => item.DateTo)
						  </td>
					   </tr>
				   }
				   <tr>
						<td>Total Quantity</td>
						<td>@ViewBag.TotalQuantity</td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
					</tr>
					<tr>
						<td>Total Price</td>
						<td>@ViewBag.TotalPrice</td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
					</tr>
				</tbody>
				
			</table>
		</div>

	</div>
	<script src="https://code.jquery.com/jquery-3.5.1.js"></script>

<script src="https://cdn.datatables.net/1.11.1/js/jquery.dataTables.min.js" defer></script>

<script src="https://cdn.datatables.net/buttons/2.0.0/js/dataTables.buttons.min.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/2.0.0/js/buttons.html5.min.js" defer></script>

<script>
	 $(document).ready(function(){
        $('#report').DataTable({
            dom:'Bfrtip',
            buttons:[
                'copyHtml5',
                'excelHtml5',
                'csvHtml5',
                'pdfHtml5'
            ]
        });
    });

</script>